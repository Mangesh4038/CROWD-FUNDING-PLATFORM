// Copyright 2017 Lovell Fuller and others.
// SPDX-License-Identifier: Apache-2.0

'use strict';

const isLinux = () => process.platform === 'linux';

let report;
const getReport = () => {
  if (!report) {
    try {
      report = isLinux() && process.report
        ? process.report.getReport()
        : {};
    } catch (error) {
      console.error('Error generating report:', error);
      report = {};
    }
  }
  return report;
};

module.exports = { isLinux, getReport };

